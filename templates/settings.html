{% extends "layout.html" %}
{% block title %}Settings{% endblock %}
{% block head %}
<script src="/static/js/tabs.js"></script>
<script src="/static/js/settings.js"></script>
<script src="/static/js/draggable.js"></script>
<link rel="stylesheet" href="/static/css/tabs.css" media="screen">
<style media="screen" type="text/css">
h3
{
	margin: 2px;
}
.leftCol
{
	float: left;
	width: 33%;
}
.middleCol
{
	float: left;
	width: 33%
}
.rightCol
{
	float: left;
	width: 33%;
}
#contentMimic
{
	float: left;
	width: 60%;
	background-color: #f1e3d1;
}
.profileFullRow
{
	width: 100%;
	clear: both;
	padding-top: 5px;
}
#profileTop
{
	border-bottom: dashed 1px #513727;
}
#profileRightCol
{
	float: right;
	width: 30%;
}
#profileLeftCol
{
	width: 70%;
}
#profileBottom
{
	border-top: dashed 1px #513727;
}

</style>
{% endblock %}
{% block content %}
  <div id="tabs">
    <ul>
      <li id="general">General Settings</li>
      <li id="profile">My Profile</li>
      <li id="layout">Page Layout</li>
    </ul>
  </div>
  <form enctype="multipart/form-data" method="POST" action="/users/settings">
    <section id="tab-content" class="container">
      <div id="tab-general"> 
        <div class="leftCol">
          <h3>Upload a New Icon: </h3>
          <img src = '/icons/{{ loggedInUser["lowername"] }}.{{ loggedInUser["icon"] }}' style='float:left;' class='userIcon' alt='Current User Icon'>
          <input type="file" name="iconUpload" id="iconUpload"><br style="clear: both;"><br>
          <h3>Change your Password: </h3>
          Current Password: <br>
          <input type="password" name="changePassCurrent"><br>
          New Password: <br>
          <input type="password" name="changePassNew1"><br>
          New Password(Repeat): <br>
          <input type="password" name="changePassNew2"><br>
        </div>
        <div class="middleCol">
          <h3>Gender: </h3>
          <select name="changeGender" id="changeGender" >
            <option value="h"{% if loggedInUser['gender'] == 'h' %} id='defaultGender'{% endif %}>Hide Gender</option>
            <option value="m"{% if loggedInUser['gender'] == 'm' %} id='defaultGender'{% endif %}>Male</option>
            <option value="f"{% if loggedInUser['gender'] == 'f' %} id='defaultGender'{% endif %}>Female</option>
          </select><br><br>
        </div>
        <div class="rightCol">
          right
        </div>
        <div style="clear: both;"></div>
      </div>
      <div id="tab-profile">
        <h3>Profile Text: </h3>
        <textarea name="changeProfile" style="width: 100%; height: 125px;">{{ loggedInUser["profile"] }}</textarea>
      </div>
      <div id="tab-layout"> 
        <p>
          <div style='float:left; width: 40%;'>
            <div class='layoutSection'>
              This is where you can move, hide, or add "<i>Sections</i>" to your userpage! <br>
              Drag and Drop the sections below onto the display to the right to add sections to your userpage. Drag them back to the "<i>Hidden</i>" area below to remove or hide them from your userpage. <br>
              Some sections can only be placed in certain areas of your userpage. Mouse over the sections to see where they can be placed, or click the "<i>?</i>" for more info on this section.
            </div>
          </div>
          <div id="contentMimic" class='roundBox'>
            <div class='layoutSection'>
              <div id="visibleArea">
                <div id="profileTop" class="profileFullRow">
                    <div class="draggable container">Profile</div>
                    <div class="draggable container">Profile</div>
                </div>
                <div id="profileMiddle" class="profileFullRow">
                  <div id="profileRightCol">
                    <div class="draggable container">Profile</div>
                  </div>
                  <div id="profileLeftCol">
                    <div class="draggable container">Profile</div>
                    <div class="draggable container">Profile</div>
                  </div>
                </div>
                <div id="profileBottom" class="profileFullRow">
                    <div class="draggable container">Profile</div>
                </div>
              </div>
            </div>
          </div>
        </p>
        <div style="clear: both;"></div>
      </div>
    </section>
    <div style="text-align:center;"><input type="submit" value="Update Profile" class="button"></div>
  </form>
{% endblock %}
